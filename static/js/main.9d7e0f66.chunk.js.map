{"version":3,"sources":["panels/Home.js","panels/Loading.js","panels/Result.js","panels/Info.js","People.js","App.js","index.js"],"names":["Home","id","go","userLink","onInput","infoClick","people","snackbar","top","type","value","placeholder","stretched","size","mode","onClick","before","header","Loading","text","relProgress","total","subheader","Result","users","name","n","back","share","bannerProps","left","level","weight","bannerData","style","margin","display","Info","People","App","useState","activePanel","setActivePanel","token","setToken","popout","setPopout","snackBar","setSnackBar","setLink","userId","setUserId","progress","setProgress","loadingTotal","setTotal","loadingText","setLoadingText","setUsers","resultName","setResultName","resultN","setResultN","setPeople","resState","setResState","sex","setSex","setBannerProps","result","api_v","cancelled","lessFriends","filteredFriends1","filteredFriends2","filteredOwner1","filteredOwner2","useEffect","bridge","subscribe","detail","data","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","scope","access_token","selectPeople","actions","title","autoclose","actionsLayout","onClose","receiveToken","send","ad_format","then","rand","min","max","Math","random","round","atoken","ar","cells","i","push","length","join","u","response","fol","followers_count","undefined","src","photo_100","badge","verified","choosePerson","description","first_name","last_name","showFullList","expandable","catch","error","handleApiError","a","background","fill","width","height","showError","hidePopout","cancel","console","log","error_type","error_data","error_code","error_msg","error_reason","step1","uid","friend_status","sleep","finish","step2","step3","source","another","len","items","m","slice","filterUsers","flag","j","c","common_count","common_friends","step4","list1","list2","list2Owner","step5","less","more","lessUid","step5List","concat","p","list","y","owner","href","target","ms","Promise","resolve","setTimeout","is_closed","can_access_closed","deactivated","e","spl","split","screenName","count","object_id","canBe","code","res","encodeURI","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9d7e0f66.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Panel, PanelHeader, Header, Button, Group, Cell, Div, Avatar, FormItem, Input, CellButton } from '@vkontakte/vkui';\nimport { Icon28InfoCircleOutline } from '@vkontakte/icons';\n\nconst Home = ({ id, go, userLink, onInput, infoClick, people, snackbar }) => (\n\t<Panel id={id}>\n\t\t<PanelHeader>Теория рукопожатий</PanelHeader>\n\n\t\t<Group>\n\t\t\t<FormItem top=\"Ссылка на пользователя\">\n\t\t\t\t<Input type=\"text\" value={userLink} onInput={onInput} placeholder='https://vk.com/eeoneguy' />\n\t\t\t</FormItem>\n\t\t\t<Div>\n\t\t\t\t<Button stretched size=\"l\" mode=\"primary\" onClick={go}>\n\t\t\t\t\tУзнать\n\t\t\t\t</Button>\n\t\t\t</Div>\n\t\t</Group>\n\t\t<Group>\n\t\t\t<CellButton before={<Icon28InfoCircleOutline />} onClick={infoClick}>Что это?</CellButton>\n\t\t</Group>\n\t\t<Group header={<Header mode=\"secondary\">Известные личности</Header>}>\n\t\t\t{people}\n\t\t</Group>\n\t\t{snackbar}\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Panel, PanelHeader, Progress, Group, Div, Header, Button, Banner } from '@vkontakte/vkui';\r\n\r\nconst Loading = ({ id, text, relProgress, total }) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader>\r\n\t\t\tЗагрузка...\r\n\t\t</PanelHeader>\r\n\t\t<Group header={<Header mode=\"secondary\">{text} {relProgress}/{total}</Header>}>\r\n\t\t\t<Div>\r\n\t\t\t\t<Progress value={relProgress / (total/100)} />\r\n\t\t\t</Div>\r\n\t\t</Group>\r\n\t\t<Group>\r\n\t\t\t<Banner\r\n\t\t\t\theader=\"Загрузка может занять немного времени\"\r\n\t\t\t\tsubheader=\"Не закрывайте приложение. В случае возникновения ошибки, приложение сообщит об этом.\"\r\n\t\t\t  />\r\n\t\t</Group>\r\n\t</Panel>\r\n);\r\n\r\nLoading.propTypes = {\r\n\tid: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Panel, PanelHeader, Group, Div, Title, List, Button, Separator, PanelHeaderBack, PromoBanner } from '@vkontakte/vkui';\r\nimport { Icon32StoryOutline } from '@vkontakte/icons';\r\nimport { Icon28CancelAltOutline } from '@vkontakte/icons';\r\n\r\nconst Result = ({ id, users, name, n, back, share, bannerProps }) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader left={<PanelHeaderBack onClick={back} />}>\r\n\t\t\tРезультат\r\n\t\t</PanelHeader>\r\n\t\t<Group>\r\n\t\t\t<Div>\r\n\t\t\t\t<Title level=\"1\" weight=\"bold\">Вы знакомы с {name} через {n-1} {(n-1) == 5 ? 'рукопожатий' : (n-1) == 1 ? 'рукопожатие' : 'рукопожатия'}</Title>\r\n\t\t\t</Div>\r\n\t\t</Group>\r\n\t\t<Group>\r\n\t\t\t<List>\r\n\t\t\t\t{users}\r\n\t\t\t\t\t{bannerProps && <PromoBanner bannerData={ bannerProps } />}\r\n\t\t\t</List>\r\n\t\t</Group>\r\n\t\t<Separator style={{ margin: '12px 0' }} />\r\n\t\t<Div style={{display: 'flex'}}>\r\n\t\t   <Button size=\"l\" stretched before={<Icon32StoryOutline />} onClick={share}>Поделиться</Button>\r\n\t\t </Div>\r\n\t</Panel>\r\n);\r\n\r\nResult.propTypes = {\r\n\tid: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Result;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Panel, PanelHeader, Progress, Group, Div, Header, Button, PanelHeaderBack, Text, Spacing } from '@vkontakte/vkui';\r\n\r\nconst Info = ({ id, back }) => (\r\n\t<Panel id={id}>\r\n\t\t<PanelHeader left={<PanelHeaderBack onClick={back} />}>\r\n\t\t\tЧто это?\r\n\t\t</PanelHeader>\r\n\t\t<Group>\r\n\t\t\t<Div>\r\n\t\t\t\t<Text weight='regular'><b>Теория рукопожатий</b> — социологическая теория, согласно которой каждый человек опосредованно знаком с любым другим жителем планеты через цепочку общих знакомых, в среднем состоящую из пяти человек.</Text>\r\n\t\t\t\t<Spacing />\r\n\t\t\t\t<Text weight='regular'>Это приложение позволяет определить, какое количество друзей отделяет вас от знакомства с любым другим пользователем ВК.</Text>\r\n\t\t\t</Div>\r\n\t\t</Group>\r\n\t</Panel>\r\n);\r\n\r\nInfo.propTypes = {\r\n\tid: PropTypes.string.isRequired\r\n};\r\n\r\nexport default Info;\r\n","const People = [53636214, 279938622, 53083705, 38940203, 34347140, 129244038, 32707600, 55325758, 10659940, 19902804, 503319088, 59511958, 273251945, 20020126, 5592362, 39377403, 45269508, 169902419, 2677959, 44625516, 100897602, 115534183, 135336811, 51663629, 81133993, 209991765, 164542053, 176250659, 1150167, 2598011, 27802750, 517356333, 379012207, 249338557, 12472209, 222267609, 13458042, 167759856, 355423138, 47903500, 363887574, 399053643, 313130351, 240651878, 14720997, 16027025, 87800684, 473989916, 21839417, 138869642, 34892163, 600019195, 23379958, 3119276, 1770436, 470483, 547152729];\r\n\r\nexport default People;","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot, Alert, SimpleCell, Avatar, Link, Snackbar } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport { Icon12Verified, Icon16Done, Icon28MenuOutline } from '@vkontakte/icons';\n\nimport Home from './panels/Home';\nimport Loading from './panels/Loading';\nimport Result from './panels/Result';\nimport Info from './panels/Info';\nimport People from './People';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [token, setToken] = useState(null);\n\tconst [popout, setPopout] = useState(<ScreenSpinner size='large' />);\n\tconst [snackBar, setSnackBar] = useState(null);\n\tconst [userLink, setLink] = useState('');\n\tconst [userId, setUserId] = useState(null);\n\tconst [progress, setProgress] = useState(0);\n\tconst [loadingTotal, setTotal] = useState(0);\n\tconst [loadingText, setLoadingText] = useState('');\n\tconst [users, setUsers] = useState([]);\n\tconst [resultName, setResultName] = useState(null);\n\tconst [resultN, setResultN] = useState(0);\n\tconst [people, setPeople] = useState([]);\n\tconst [resState, setResState] = useState(null);\n\tconst [sex, setSex] = useState(0);\n\tconst [bannerProps, setBannerProps] = useState(null);\n\t\n\tconst result = [];\n\t\n\tconst api_v = '5.131';\n\t\n\tlet cancelled = false;\n\t\n\tlet lessFriends = null;\n\tlet filteredFriends1 = null;\n\tlet filteredFriends2 = null;\n\tlet filteredOwner1 = null;\n\tlet filteredOwner2 = null;\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tswitch(type){\n\t\t\t\tcase 'VKWebAppUpdateConfig':\n\t\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tsetUserId(data.id);\n\t\t\t\t\tsetSex(data.sex);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\tif(data.scope == 'friends'){\n\t\t\t\t\t\tsetToken(data.access_token);\n\t\t\t\t\t\tselectPeople(data.access_token);\n\t\t\t\t\t} else{\n\t\t\t\t\t\tsetPopout(<Alert\n\t\t\t\t\t\tactions={[{\n\t\t\t\t\t\t  title: 'ОК',\n\t\t\t\t\t\t  autoclose: true,\n\t\t\t\t\t\t  mode: 'cancel'\n\t\t\t\t\t\t}]}\n\t\t\t\t\t\tactionsLayout=\"vertical\"\n\t\t\t\t\t\tonClose={receiveToken}\n\t\t\t\t\t\theader=\"Ошибка\"\n\t\t\t\t\t\ttext=\"Приложению необходим доступ к друзьям\"\n\t\t\t\t\t  />);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppGetAuthTokenFailed':\n\t\t\t\t\tsetPopout(<Alert\n\t\t\t\t\t\tactions={[{\n\t\t\t\t\t\t  title: 'ОК',\n\t\t\t\t\t\t  autoclose: true,\n\t\t\t\t\t\t  mode: 'cancel'\n\t\t\t\t\t\t}]}\n\t\t\t\t\t\tactionsLayout=\"vertical\"\n\t\t\t\t\t\tonClose={receiveToken}\n\t\t\t\t\t\theader=\"Ошибка\"\n\t\t\t\t\t\ttext=\"Приложению необходим доступ к друзьям\"\n\t\t\t\t\t  />);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\tbridge.send(\"VKWebAppGetUserInfo\");\n\t\tbridge.send(\"VKWebAppShowNativeAds\", {ad_format:\"preloader\"});\n\t\tbridge.send(\"VKWebAppGetAds\")\n\t\t\t.then(data => {\n\t\t\t\tsetBannerProps(data);\n\t\t\t});\n\t\treceiveToken();\n\t}, []);\n\t\n\tconst receiveToken = () => {\n\t\tsetPopout(<ScreenSpinner size='large' />);\n\t\tbridge.send('VKWebAppGetAuthToken', {\"app_id\": 7900221, \"scope\": \"friends\"});\n\t}\n\t\n\tconst onInput = e => {\n\t\tsetLink(e.target.value);\n\t}\n\t\n\tconst rand = (min,max) => {\n\t\tlet rand = min - 0.5 + Math.random() * (max - min + 1);\n\t\treturn Math.round(rand);\n\t}\n\t\n\tconst selectPeople = (atoken) => {\n\t\tlet ar = [];\n\t\tlet cells = [];\n\t\tfor(let i = 0; i < 15; i++){\n\t\t\tar.push(People[rand(0,People.length)]);\n\t\t}\n\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"users.get\", \"params\":{\"user_ids\": ar.join(','), \"fields\": \"photo_100,verified,followers_count\", \"v\": api_v, \"access_token\": atoken}})\n\t\t\t.then(data => {\n\t\t\t\tfor(let i = 0; i < data.response.length; i++){\n\t\t\t\t\tlet u = data.response[i];\n\t\t\t\t\tlet fol = u.followers_count;\n\t\t\t\t\tif(fol >= 1000000) fol = Math.round(fol/1000000)+'M';\n\t\t\t\t\tif(fol >= 10000) fol = Math.round(fol/1000)+'K';\n\t\t\t\t\tif(fol == undefined || fol == 0) fol = 'Нет';\n\t\t\t\t\tcells.push(<SimpleCell key={'p'+u.id} before={<Avatar size={48} src={u.photo_100} />} badge={u.verified ? <Icon12Verified /> : null} onClick={() => choosePerson(u.id)} description={fol+' подписчиков'}>{u.first_name} {u.last_name}</SimpleCell>);\n\t\t\t\t}\n\t\t\t\tcells.push(<SimpleCell key='more' onClick={() => showFullList(atoken)} expandable before={<Icon28MenuOutline />}>Весь список</SimpleCell>);\n\t\t\t\tsetPeople(cells);\n\t\t\t\tsetPopout(null);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\thandleApiError(error);\n\t\t\t\tsetPopout(null);\n\t\t\t});\n\t}\n\t\n\tconst choosePerson = async id => {\n\t\tsetLink('https://vk.com/id'+id);\n\t\tsetSnackBar(<Snackbar\n\t\t\t\t\tonClose={() => setSnackBar(null)}\n\t\t\t\t\tbefore={<Avatar size={24} style={{ background: 'var(--accent)' }}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}>\n\t\t\t\t\tСсылка вставлена. Нажмите \"Узнать\"\n\t\t\t\t  </Snackbar>);\n\t}\n\t\n\tconst showFullList = (atoken) => {\n\t\tsetPopout(<ScreenSpinner size='large' />);\n\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"users.get\", \"params\":{\"user_ids\": People.join(','), \"fields\": \"photo_100,verified,followers_count\", \"v\": api_v, \"access_token\": atoken}})\n\t\t\t.then(data => {\n\t\t\t\tlet cells = [];\n\t\t\t\tfor(let i = 0; i < data.response.length; i++){\n\t\t\t\t\tlet u = data.response[i];\n\t\t\t\t\tlet fol = u.followers_count;\n\t\t\t\t\tif(fol >= 1000000) fol = Math.round(fol/1000000)+'M';\n\t\t\t\t\tif(fol >= 10000) fol = Math.round(fol/1000)+'K';\n\t\t\t\t\tif(fol == undefined || fol == 0) fol = 'Нет';\n\t\t\t\t\tcells.push(<SimpleCell key={'p'+u.id} before={<Avatar size={48} src={u.photo_100} />} badge={u.verified ? <Icon12Verified /> : null} onClick={() => choosePerson(u.id)} description={fol+' подписчиков'}>{u.first_name} {u.last_name}</SimpleCell>);\n\t\t\t\t}\n\t\t\t\tsetPeople(cells);\n\t\t\t\tsetPopout(null);\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\thandleApiError(error);\n\t\t\t\tsetPopout(null);\n\t\t\t});\n\t}\n\n\tconst go = e => {\n\t\tif(userId == null) bridge.send(\"VKWebAppGetUserInfo\");\n\t\tif(token == null){\n\t\t\treceiveToken();\n\t\t\treturn;\n\t\t}\n\t\tsetPopout(<ScreenSpinner size='large' />)\n\t\tlet spl = userLink.split('/');\n\t\tlet screenName = spl[spl.length-1];\n\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"friends.get\", \"params\":{\"count\": 1, \"v\": api_v, \"access_token\": token}})\n\t\t\t.then(data => {\n\t\t\t\tif(data.response.count > 0){\n\t\t\t\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"utils.resolveScreenName\", \"params\":{\"screen_name\":screenName, \"v\": api_v, \"access_token\": token}})\n\t\t\t\t\t\t.then(async data => {\n\t\t\t\t\t\t\tif(data.response.type == 'user'){\n\t\t\t\t\t\t\t\tsetActivePanel('loading');\n\t\t\t\t\t\t\t\tlet canBe = await bridge.send('VKWebAppCallAPIMethod', {\"method\": \"execute.canBeAnalyzed\", \"params\":{\"uid\": data.response.object_id, \"v\": api_v, \"access_token\": token}});\n\t\t\t\t\t\t\t\tif(canBe.response.code == 1){\n\t\t\t\t\t\t\t\t\tstep1(data.response.object_id);\n\t\t\t\t\t\t\t\t\tsetResultName(canBe.response.res);\n\t\t\t\t\t\t\t\t\tsetPopout(null);\n\t\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\t\tshowError(canBe.response.res);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tshowError('Пользователь не найден');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\thandleApiError(error);\n\t\t\t\t\t\t});\n\t\t\t\t} else{\n\t\t\t\t\tshowError('У вас нет друзей ВК');\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\thandleApiError(error);\n\t\t\t});\n\t};\n\t\n\tconst showError = text => {\n\t\tsetPopout(<Alert\n\t\t\t\t\t\tactions={[{\n\t\t\t\t\t\t  title: 'ОК',\n\t\t\t\t\t\t  autoclose: true,\n\t\t\t\t\t\t  mode: 'cancel'\n\t\t\t\t\t\t}]}\n\t\t\t\t\t\tonClose={hidePopout}\n\t\t\t\t\t\tactionsLayout=\"vertical\"\n\t\t\t\t\t\theader=\"Ошибка\"\n\t\t\t\t\t\ttext={text}\n\t\t\t\t\t  />);\n\t}\n\t\n\tconst hidePopout = () => {\n\t\tsetPopout(null);\n\t}\n\t\n\tconst handleApiError = error => {\n\t\tcancel();\n\t\tconsole.log(error);\n\t\tswitch(error.error_type){\n\t\t\tcase 'api_error':\n\t\t\t\tshowError('API error: '+error.error_data.error_code+' - '+error.error_data.error_msg);\n\t\t\t\tbreak;\n\t\t\tcase 'client_error':\n\t\t\t\tswitch(error.error_data.error_reason.error_code){\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tshowError('Ошибка 6: слишком много запросов в секунду. Подождите несколько минут и попробуйте снова');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 29:\n\t\t\t\t\t\tshowError('Ошибка 29: достигнут лимит запросов. Похоже, вы пользовались сервисом слишком активно. Это ограничение со стороны ВК. Подождите несколько часов и попробуйте снова.');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tshowError('Client error: '+error.error_data.error_reason.error_code+' - '+error.error_data.error_reason.error_msg);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tshowError(error.error_type);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t\n\tconst step1 = async uid => {\n\t\tcancelled = false;\n\t\tconsole.log('step1 '+cancelled);\n\t\tsetLoadingText('Проверка на прямую дружбу:');\n\t\tsetTotal(1);\n\t\tsetProgress(0);\n\t\tresult.push(userId);\n\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"friends.areFriends\", \"params\":{\"user_ids\": uid, \"v\": api_v, \"access_token\": token}})\n\t\t\t.then(async data => {\n\t\t\t\tif(data.response[0].friend_status == 3){\n\t\t\t\t\tawait sleep(2000);\n\t\t\t\t\tresult.push(uid);\n\t\t\t\t\tsetProgress(1);\n\t\t\t\t\tfinish();\n\t\t\t\t} else{\n\t\t\t\t\tif(!cancelled) step2(uid);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\thandleApiError(error);\n\t\t\t});\n\t}\n\t\n\tconst step2 = uid => {\n\t\tif(cancelled) return;\n\t\tconsole.log('step2');\n\t\tsetLoadingText('Проверка общих друзей:');\n\t\tsetTotal(1);\n\t\tsetProgress(0);\n\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"friends.getMutual\", \"params\":{\"source_uid\": userId, \"target_uid\": uid, \"v\": api_v, \"access_token\": token}})\n\t\t\t.then(data => {\n\t\t\t\tif(data.response.length > 0){\n\t\t\t\t\tsetProgress(1);\n\t\t\t\t\tresult.push(data.response[0]);\n\t\t\t\t\tresult.push(uid);\n\t\t\t\t\tfinish();\n\t\t\t\t} else{\n\t\t\t\t\tif(!cancelled) step3(uid);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\thandleApiError(error);\n\t\t\t});\n\t}\n\t\n\tconst step3 = uid => {\n\t\tif(cancelled) return;\n\t\tconsole.log('step3');\n\t\tsetLoadingText('Получаем списки друзей:');\n\t\tsetTotal(1);\n\t\tsetProgress(0);\n\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"execute.getLessFriends\", \"params\":{\"uid1\": uid, \"uid2\": userId, \"v\": api_v, \"access_token\": token}})\n\t\t\t.then(async data => {\n\t\t\t\tsetProgress(1);\n\t\t\t\tlet source = data.response.another;\n\t\t\t\tlessFriends = data.response;\n\t\t\t\tlet len = data.response.items.length;\n\t\t\t\tsetLoadingText('Фильтруем список:');\n\t\t\t\tsetTotal(len);\n\t\t\t\tsetProgress(0);\n\t\t\t\tlet m = 0;\n\t\t\t\tlet another = data.response.another;\n\t\t\t\twhile(m < data.response.items.length){\n\t\t\t\t\tawait sleep(2000);\n\t\t\t\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"users.get\", \"params\":{\"user_ids\": data.response.items.slice(m, m+1000).join(','), \"v\": api_v, \"access_token\": token}})\n\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\tif(m > len) setProgress(len)\n\t\t\t\t\t\t\telse setProgress(m);\n\t\t\t\t\t\t\tfilteredFriends1 = filterUsers(data.response);\n\t\t\t\t\t\t\tif(another == uid){\n\t\t\t\t\t\t\t\tfilteredOwner1 = userId;\n\t\t\t\t\t\t\t\tfilteredOwner2 = uid;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tfilteredOwner1 = uid;\n\t\t\t\t\t\t\t\tfilteredOwner2 = userId;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet i = 0;\n\t\t\t\t\t\t\tlet flag = false;\n\t\t\t\t\t\t\tlet length = filteredFriends1.length;\n\t\t\t\t\t\t\tsetLoadingText('Получаем общих друзей:');\n\t\t\t\t\t\t\tsetTotal(length);\n\t\t\t\t\t\t\tsetProgress(0);\n\t\t\t\t\t\t\twhile(i < length){\n\t\t\t\t\t\t\t\tif(flag || cancelled) break;\n\t\t\t\t\t\t\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"friends.getMutual\", \"params\":{\"source_uid\": source, 'target_uids': filteredFriends1.slice(i, i+100).join(','), \"v\": api_v, \"access_token\": token}})\n\t\t\t\t\t\t\t\t\t.then(async data => {\n\t\t\t\t\t\t\t\t\t\tif(i > length) setProgress(length)\n\t\t\t\t\t\t\t\t\t\telse setProgress(i);\n\t\t\t\t\t\t\t\t\t\tfor(let j = 0; j < data.response.length; j++){\n\t\t\t\t\t\t\t\t\t\t\tif(flag || cancelled) break;\n\t\t\t\t\t\t\t\t\t\t\tlet c = data.response[j];\n\t\t\t\t\t\t\t\t\t\t\tif(c.common_count > 0){\n\t\t\t\t\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppCallAPIMethod', {\"method\": \"execute.isBanned\", \"params\":{\"uid\": c.common_friends[0], \"v\": api_v, \"access_token\": token}})\n\t\t\t\t\t\t\t\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(data.response == 0){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetProgress(length);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(source == uid){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.common_friends[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.common_friends[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(uid);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfinish();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleApiError(error);\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif(!flag && i+100 >= length && !cancelled) step4(uid);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\t\t\t\thandleApiError(error);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\ti = i+100;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\thandleApiError(error);\n\t\t\t\t\t\t});\n\t\t\t\t\tm = m+1000;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\thandleApiError(error);\n\t\t\t});\n\t}\n\t\n\tconst step4 = uid => {\n\t\tif(cancelled) return;\n\t\tconsole.log('step4');\n\t\tsetLoadingText('Получаем списки друзей:');\n\t\tsetTotal(1);\n\t\tsetProgress(0);\n\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"friends.get\", \"params\":{\"user_id\": lessFriends.another, \"v\": api_v, \"access_token\": token}})\n\t\t\t.then(async data => {\n\t\t\t\tsetProgress(1);\n\t\t\t\tlet len = data.response.items.length;\n\t\t\t\tsetLoadingText('Фильтруем список:');\n\t\t\t\tsetTotal(len);\n\t\t\t\tsetProgress(0);\n\t\t\t\tlet m = 0;\n\t\t\t\twhile(m < data.response.items.length){\n\t\t\t\t\tawait sleep(2000);\n\t\t\t\t\tawait bridge.send('VKWebAppCallAPIMethod', {\"method\": \"users.get\", \"params\":{\"user_ids\": data.response.items.slice(m, m+1000).join(','), \"v\": api_v, \"access_token\": token}})\n\t\t\t\t\t\t.then(async data => {\n\t\t\t\t\t\t\tif(m > len) setProgress(len)\n\t\t\t\t\t\t\telse setProgress(m);\n\t\t\t\t\t\t\tfilteredFriends2 = filterUsers(data.response);\n\t\t\t\t\t\t\tlet list1 = filteredFriends1;\n\t\t\t\t\t\t\tlet list2 = filteredFriends2;\n\t\t\t\t\t\t\tlet list2Owner = filteredOwner2;\n\t\t\t\t\t\t\tif(filteredFriends1.length <= filteredFriends2.length){\n\t\t\t\t\t\t\t\tlist1 = filteredFriends2;\n\t\t\t\t\t\t\t\tlist2 = filteredFriends1;\n\t\t\t\t\t\t\t\tlist2Owner = filteredOwner1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet flag = false;\n\t\t\t\t\t\t\tsetLoadingText('Получаем общих друзей:');\n\t\t\t\t\t\t\tsetTotal(list1.length);\n\t\t\t\t\t\t\tsetProgress(0);\n\t\t\t\t\t\t\tfor(let i = 0; i < list2.length; i++){\n\t\t\t\t\t\t\t\tif(flag || cancelled) break;\n\t\t\t\t\t\t\t\tlet j = 0;\n\t\t\t\t\t\t\t\twhile(j < list1.length){\n\t\t\t\t\t\t\t\t\tif(flag || cancelled) break;\n\t\t\t\t\t\t\t\t\tawait sleep(2000);\n\t\t\t\t\t\t\t\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"friends.getMutual\", \"params\":{\"source_uid\": list2[i], 'target_uids': list1.slice(j, j+100).join(','), \"v\": api_v, \"access_token\": token}})\n\t\t\t\t\t\t\t\t\t\t.then(async data => {\n\t\t\t\t\t\t\t\t\t\t\tif(j > list1.length) setProgress(list1.length)\n\t\t\t\t\t\t\t\t\t\t\telse setProgress(j);\n\t\t\t\t\t\t\t\t\t\t\tfor(let j = 0; j < data.response.length; j++){\n\t\t\t\t\t\t\t\t\t\t\t\tif(flag || cancelled) break;\n\t\t\t\t\t\t\t\t\t\t\t\tlet c = data.response[j];\n\t\t\t\t\t\t\t\t\t\t\t\tif(c.common_count > 0){\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppCallAPIMethod', {\"method\": \"execute.isBanned\", \"params\":{\"uid\": c.common_friends[0], \"v\": api_v, \"access_token\": token}})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(data.response == 0){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetProgress(list1.length);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(list2Owner == userId){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(list2[i]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.common_friends[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.common_friends[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(list2[i]);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(uid);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfinish();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleApiError(error);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\t\t\t\t\thandleApiError(error);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tj = j+100;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(!flag && !cancelled) step5(uid);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\thandleApiError(error);\n\t\t\t\t\t\t});\n\t\t\t\t\tm = m+1000;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\thandleApiError(error);\n\t\t\t});\n\t}\n\t\n\tconst step5 = async uid => {\n\t\tif(cancelled) return;\n\t\tconsole.log('step5');\n\t\tlet less = filteredFriends1;\n\t\tlet more = filteredFriends2;\n\t\tlet lessUid = filteredOwner1;\n\t\tlet moreUid = filteredOwner2;\n\t\tif(filteredFriends2.length < filteredFriends1){\n\t\t\tless = filteredFriends2;\n\t\t\tmore = filteredFriends1;\n\t\t\tlessUid = filteredOwner2;\n\t\t\tmoreUid = filteredOwner1;\n\t\t}\n\t\tsetLoadingText('Получаем списки друзей:');\n\t\tsetTotal(less.length);\n\t\tsetProgress(0);\n\t\tlet i = 0;\n\t\tlet step5List = [];\n\t\twhile(i < less.length){\n\t\t\tif(cancelled) break;\n\t\t\tawait sleep(2000);\n\t\t\tawait bridge.send('VKWebAppCallAPIMethod', {\"method\": \"execute.getMassFriends\", \"params\":{\"uids\": less.slice(i, i+25).join(','), \"v\": api_v, \"access_token\": token}})\n\t\t\t\t.then(data => {\n\t\t\t\t\tif(i > less.length) setProgress(less.length)\n\t\t\t\t\telse setProgress(i);\n\t\t\t\t\tstep5List = step5List.concat(data.response);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\thandleApiError(error);\n\t\t\t\t});\n\t\t\ti=i+25;\n\t\t}\n\t\tsetLoadingText('Фильтруем друзей:');\n\t\tsetTotal(step5List.length);\n\t\tsetProgress(0);\n\t\tfor(let p = 0; p < step5List.length; p++){\n\t\t\tif(cancelled) break;\n\t\t\tlet j = 0;\n\t\t\twhile(j < step5List[p].list.length){\n\t\t\t\tif(cancelled) break;\n\t\t\t\tawait sleep(2000);\n\t\t\t\tawait bridge.send('VKWebAppCallAPIMethod', {\"method\": \"users.get\", \"params\":{\"user_ids\": step5List[p].list.slice(j, j+1000).join(','), \"v\": api_v, \"access_token\": token}})\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tsetProgress(p);\n\t\t\t\t\t\tstep5List[p].list = filterUsers(data.response);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\thandleApiError(error);\n\t\t\t\t\t});\n\t\t\t\tj=j+1000;\n\t\t\t}\n\t\t}\n\t\tlet flag = false;\n\t\tfor(i=0;i<more.length;i++){\n\t\t\tif(flag || cancelled) break;\n\t\t\tsetLoadingText('Получаем общих друзей:');\n\t\t\tsetTotal(step5List.length);\n\t\t\tsetProgress(0);\n\t\t\tfor(let j=0;j<step5List.length;j++){\n\t\t\t\tif(flag || cancelled) break;\n\t\t\t\tlet p = 0;\n\t\t\t\twhile(p < step5List[j].list.length){\n\t\t\t\t\tif(flag || cancelled) break;\n\t\t\t\t\tawait sleep(2000);\n\t\t\t\t\tawait bridge.send('VKWebAppCallAPIMethod', {\"method\": \"friends.getMutual\", \"params\":{\"source_uid\": more[i], \"target_uids\": step5List[j].list.slice(p, p+100).join(','), \"v\": api_v, \"access_token\": token}})\n\t\t\t\t\t\t.then(async data => {\n\t\t\t\t\t\t\tsetProgress(j);\n\t\t\t\t\t\t\tfor(let y = 0; y < data.response.length; y++){\n\t\t\t\t\t\t\t\tif(flag || cancelled) break;\n\t\t\t\t\t\t\t\tlet c = data.response[y];\n\t\t\t\t\t\t\t\tif(c.common_count > 0){\n\t\t\t\t\t\t\t\t\tawait bridge.send('VKWebAppCallAPIMethod', {\"method\": \"execute.isBanned\", \"params\":{\"uid\": c.common_friends[0], \"v\": api_v, \"access_token\": token}})\n\t\t\t\t\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\t\t\t\t\tif(data.response == 0){\n\t\t\t\t\t\t\t\t\t\t\t\tsetProgress(step5List.length);\n\t\t\t\t\t\t\t\t\t\t\t\tif(lessUid == uid){\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(more[i]);\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.common_friends[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.id);\n\t\t\t\t\t\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(c.common_friends[0]);\n\t\t\t\t\t\t\t\t\t\t\t\t\tresult.push(more[i]);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tresult.push(step5List[j].owner);\n\t\t\t\t\t\t\t\t\t\t\t\tresult.push(uid);\n\t\t\t\t\t\t\t\t\t\t\t\tfinish();\n\t\t\t\t\t\t\t\t\t\t\t\tflag = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\t\t\t\t\thandleApiError(error);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\thandleApiError(error);\n\t\t\t\t\t\t});\n\t\t\t\t\tp = p+100;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif(!flag && !cancelled) finish();\n\t}\n\t\n\tconst finish = () => {\n\t\tsetResState(result);\n\t\tsetPopout(<ScreenSpinner size='large' />);\n\t\tsetResultN(result.length);\n\t\tif(result.length == 1){\n\t\t\tshowError('Связи не найдены');\n\t\t\tsetActivePanel('home');\n\t\t\treturn;\n\t\t}\n\t\tbridge.send('VKWebAppCallAPIMethod', {\"method\": \"users.get\", \"params\":{\"user_ids\": result.join(','), \"fields\":\"photo_100\", \"v\": api_v, \"access_token\": token}})\n\t\t\t.then(data => {\n\t\t\t\tlet ar = [];\n\t\t\t\tfor(let i = 0; i < data.response.length; i++){\n\t\t\t\t\tlet u = data.response[i];\n\t\t\t\t\tar.push(<Link key={'l'+u.id} href={'https://vk.com/id'+u.id} target='_blank'><SimpleCell before={<Avatar src={u.photo_100} />} key={u.id}>{u.first_name}  {u.last_name}</SimpleCell></Link>);\n\t\t\t\t}\n\t\t\t\tsetPopout(null);\n\t\t\t\tsetUsers(ar);\n\t\t\t\tbridge.send(\"VKWebAppShowNativeAds\", {ad_format:\"interstitial\"});\n\t\t\t\tsetActivePanel('result');\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\thandleApiError(error);\n\t\t\t});\n\t}\n\t\n\tconst sleep = ms => {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\t\n\tconst cancel = () => {\n\t\tcancelled = true;\n\t\tsetActivePanel('home');\n\t}\n\t\n\tconst filterUsers = users => {\n\t\tlet ar = [];\n\t\tfor(let i = 0; i < users.length; i++){\n\t\t\tif((!users[i].is_closed || users[i].can_access_closed) && users[i].deactivated != 'banned' && users[i].deactivated != 'deleted'){\n\t\t\t\tar.push(users[i].id);\n\t\t\t}\n\t\t}\n\t\treturn ar;\n\t}\n\t\n\tconst share = () => {\n\t\tbridge.send(\"VKWebAppShowStoryBox\", {\"background_type\":\"image\", \"url\": \"https://app.vovadev.ru/6hands/story.php?main=\"+encodeURI(resultName)+\"&sex=\"+sex+\"&uids=\"+encodeURI(resState.join(',')), \"attachment\":{\"text\":\"open\",\"type\":\"url\",\"url\":\"https://vk.com/app7900221\"}});\n\t}\n\n\treturn (\n\t\t<AdaptivityProvider>\n\t\t\t<AppRoot>\n\t\t\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t\t\t<Home id='home' go={go} userLink={userLink} onInput={onInput} infoClick={() => setActivePanel('info')} people={people} snackbar={snackBar} />\n\t\t\t\t\t<Loading id='loading' relProgress={progress} total={loadingTotal} text={loadingText} />\n\t\t\t\t\t<Result id='result' users={users} name={resultName} n={resultN} back={() => setActivePanel('home')} share={share} bannerProps={bannerProps} />\n\t\t\t\t\t<Info id='info' back={() => setActivePanel('home')} />\n\t\t\t\t</View>\n\t\t\t</AppRoot>\n\t\t</AdaptivityProvider>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}