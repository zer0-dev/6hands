(this.webpackJsonp6hands=this.webpackJsonp6hands||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(23),s=n.n(a),c=n(12),o=n.n(c),i=n(11),u=n.n(i),l=n(20),d=n(14),p=n(5),h=(n(115),n(120)),b=n(121),f=n(122),j=n(118),x=n(3),k=function(e){var t=e.id,n=e.go,r=e.userLink,a=e.onInput,s=e.infoClick,c=e.people,o=e.snackbar;return Object(x.jsxs)(p.o,{id:t,children:[Object(x.jsx)(p.p,{children:"\u0422\u0435\u043e\u0440\u0438\u044f \u0440\u0443\u043a\u043e\u043f\u043e\u0436\u0430\u0442\u0438\u0439"}),Object(x.jsxs)(p.j,{children:[Object(x.jsx)(p.i,{top:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",children:Object(x.jsx)(p.l,{type:"text",value:r,onInput:a,placeholder:"https://vk.com/eeoneguy"})}),Object(x.jsx)(p.h,{children:Object(x.jsx)(p.f,{stretched:!0,size:"l",mode:"primary",onClick:n,children:"\u0423\u0437\u043d\u0430\u0442\u044c"})})]}),Object(x.jsx)(p.j,{children:Object(x.jsx)(p.g,{before:Object(x.jsx)(j.a,{}),onClick:s,children:"\u0427\u0442\u043e \u044d\u0442\u043e?"})}),Object(x.jsx)(p.j,{header:Object(x.jsx)(p.k,{mode:"secondary",children:"\u0418\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0435 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u0438"}),children:c}),o]})},m=function(e){var t=e.id,n=e.text,r=e.relProgress,a=e.total;return Object(x.jsxs)(p.o,{id:t,children:[Object(x.jsx)(p.p,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),Object(x.jsx)(p.j,{header:Object(x.jsxs)(p.k,{mode:"secondary",children:[n," ",r,"/",a]}),children:Object(x.jsx)(p.h,{children:Object(x.jsx)(p.r,{value:r/(a/100)})})}),Object(x.jsx)(p.j,{children:Object(x.jsx)(p.e,{header:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438",subheader:"\u041d\u0435 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0439\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043a\u0438, \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0438\u0442 \u043e\u0431 \u044d\u0442\u043e\u043c."})})]})},v=n(119),O=function(e){var t=e.id,n=e.users,r=e.name,a=e.n,s=e.back,c=e.share,o=e.bannerProps;return Object(x.jsxs)(p.o,{id:t,children:[Object(x.jsx)(p.p,{left:Object(x.jsx)(p.q,{onClick:s}),children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"}),Object(x.jsx)(p.j,{children:Object(x.jsx)(p.h,{children:Object(x.jsxs)(p.z,{level:"1",weight:"bold",children:["\u0412\u044b \u0437\u043d\u0430\u043a\u043e\u043c\u044b \u0441 ",r," \u0447\u0435\u0440\u0435\u0437 ",a-1," ",a-1==5?"\u0440\u0443\u043a\u043e\u043f\u043e\u0436\u0430\u0442\u0438\u0439":a-1==1?"\u0440\u0443\u043a\u043e\u043f\u043e\u0436\u0430\u0442\u0438\u0435":"\u0440\u0443\u043a\u043e\u043f\u043e\u0436\u0430\u0442\u0438\u044f"]})})}),Object(x.jsx)(p.j,{children:Object(x.jsxs)(p.n,{children:[n,o&&Object(x.jsx)(p.s,{bannerData:o})]})}),Object(x.jsx)(p.u,{style:{margin:"12px 0"}}),Object(x.jsx)(p.h,{style:{display:"flex"},children:Object(x.jsx)(p.f,{size:"l",stretched:!0,before:Object(x.jsx)(v.a,{}),onClick:c,children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"})})]})},g=function(e){var t=e.id,n=e.back;return Object(x.jsxs)(p.o,{id:t,children:[Object(x.jsx)(p.p,{left:Object(x.jsx)(p.q,{onClick:n}),children:"\u0427\u0442\u043e \u044d\u0442\u043e?"}),Object(x.jsx)(p.j,{children:Object(x.jsxs)(p.h,{children:[Object(x.jsxs)(p.y,{weight:"regular",children:[Object(x.jsx)("b",{children:"\u0422\u0435\u043e\u0440\u0438\u044f \u0440\u0443\u043a\u043e\u043f\u043e\u0436\u0430\u0442\u0438\u0439"})," \u2014 \u0441\u043e\u0446\u0438\u043e\u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0442\u0435\u043e\u0440\u0438\u044f, \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043a\u0430\u0436\u0434\u044b\u0439 \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043e\u043f\u043e\u0441\u0440\u0435\u0434\u043e\u0432\u0430\u043d\u043d\u043e \u0437\u043d\u0430\u043a\u043e\u043c \u0441 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0436\u0438\u0442\u0435\u043b\u0435\u043c \u043f\u043b\u0430\u043d\u0435\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u0446\u0435\u043f\u043e\u0447\u043a\u0443 \u043e\u0431\u0449\u0438\u0445 \u0437\u043d\u0430\u043a\u043e\u043c\u044b\u0445, \u0432 \u0441\u0440\u0435\u0434\u043d\u0435\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u0449\u0443\u044e \u0438\u0437 \u043f\u044f\u0442\u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u043a."]}),Object(x.jsx)(p.x,{}),Object(x.jsx)(p.y,{weight:"regular",children:"\u042d\u0442\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c, \u043a\u0430\u043a\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0443\u0437\u0435\u0439 \u043e\u0442\u0434\u0435\u043b\u044f\u0435\u0442 \u0432\u0430\u0441 \u043e\u0442 \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u0430 \u0441 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0412\u041a."})]})})]})},_=[53636214,279938622,53083705,38940203,34347140,129244038,32707600,55325758,10659940,19902804,503319088,59511958,273251945,20020126,5592362,39377403,45269508,169902419,2677959,44625516,100897602,115534183,135336811,51663629,81133993,209991765,164542053,176250659,1150167,2598011,27802750,517356333,379012207,249338557,12472209,222267609,13458042,167759856,355423138,47903500,363887574,399053643,313130351,240651878,14720997,16027025,87800684,473989916,21839417,138869642,34892163,600019195,23379958,3119276,1770436,470483,547152729],A=function(){var e=Object(r.useState)("home"),t=Object(d.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(null),c=Object(d.a)(s,2),i=c[0],j=c[1],v=Object(r.useState)(Object(x.jsx)(p.t,{size:"large"})),A=Object(d.a)(v,2),w=A[0],y=A[1],C=Object(r.useState)(null),K=Object(d.a)(C,2),M=K[0],I=K[1],V=Object(r.useState)(""),W=Object(d.a)(V,2),P=W[0],S=W[1],z=Object(r.useState)(null),B=Object(d.a)(z,2),G=B[0],L=B[1],U=Object(r.useState)(0),Y=Object(d.a)(U,2),F=Y[0],N=Y[1],R=Object(r.useState)(0),T=Object(d.a)(R,2),q=T[0],E=T[1],J=Object(r.useState)(""),D=Object(d.a)(J,2),H=D[0],Q=D[1],X=Object(r.useState)([]),Z=Object(d.a)(X,2),$=Z[0],ee=Z[1],te=Object(r.useState)(null),ne=Object(d.a)(te,2),re=ne[0],ae=ne[1],se=Object(r.useState)(0),ce=Object(d.a)(se,2),oe=ce[0],ie=ce[1],ue=Object(r.useState)([]),le=Object(d.a)(ue,2),de=le[0],pe=le[1],he=Object(r.useState)(null),be=Object(d.a)(he,2),fe=be[0],je=be[1],xe=Object(r.useState)(0),ke=Object(d.a)(xe,2),me=ke[0],ve=ke[1],Oe=Object(r.useState)(null),ge=Object(d.a)(Oe,2),_e=ge[0],Ae=ge[1],we=[],ye="5.131",Ce=!1,Ke=null,Me=null,Ie=null,Ve=null,We=null;Object(r.useEffect)((function(){o.a.subscribe((function(e){var t=e.detail,n=t.type,r=t.data;switch(n){case"VKWebAppUpdateConfig":var a=document.createAttribute("scheme");a.value=r.scheme?r.scheme:"client_light",document.body.attributes.setNamedItem(a);break;case"VKWebAppGetUserInfoResult":L(r.id),ve(r.sex);break;case"VKWebAppAccessTokenReceived":"friends"==r.scope?(j(r.access_token),ze(r.access_token)):y(Object(x.jsx)(p.b,{actions:[{title:"\u041e\u041a",autoclose:!0,mode:"cancel"}],actionsLayout:"vertical",onClose:Pe,header:"\u041e\u0448\u0438\u0431\u043a\u0430",text:"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0440\u0443\u0437\u044c\u044f\u043c"}));break;case"VKWebAppGetAuthTokenFailed":y(Object(x.jsx)(p.b,{actions:[{title:"\u041e\u041a",autoclose:!0,mode:"cancel"}],actionsLayout:"vertical",onClose:Pe,header:"\u041e\u0448\u0438\u0431\u043a\u0430",text:"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0440\u0443\u0437\u044c\u044f\u043c"}))}})),o.a.send("VKWebAppGetUserInfo"),o.a.send("VKWebAppShowNativeAds",{ad_format:"preloader"}),o.a.send("VKWebAppGetAds").then((function(e){Ae(e)})),Pe()}),[]);var Pe=function(){y(Object(x.jsx)(p.t,{size:"large"})),o.a.send("VKWebAppGetAuthToken",{app_id:7900221,scope:"friends"})},Se=function(e,t){var n=e-.5+Math.random()*(t-e+1);return Math.round(n)},ze=function(e){for(var t=[],n=[],r=0;r<15;r++)t.push(_[Se(0,_.length)]);o.a.send("VKWebAppCallAPIMethod",{method:"users.get",params:{user_ids:t.join(","),fields:"photo_100,verified,followers_count",v:ye,access_token:e}}).then((function(t){for(var r=function(e){var r=t.response[e],a=r.followers_count;a>=1e6&&(a=Math.round(a/1e6)+"M"),a>=1e4&&(a=Math.round(a/1e3)+"K"),void 0!=a&&0!=a||(a="\u041d\u0435\u0442"),n.push(Object(x.jsxs)(p.v,{before:Object(x.jsx)(p.d,{size:48,src:r.photo_100}),badge:r.verified?Object(x.jsx)(h.a,{}):null,onClick:function(){return Be(r.id)},description:a+" \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432",children:[r.first_name," ",r.last_name]},"p"+r.id))},a=0;a<t.response.length;a++)r(a);n.push(Object(x.jsx)(p.v,{onClick:function(){return Ge(e)},expandable:!0,before:Object(x.jsx)(b.a,{}),children:"\u0412\u0435\u0441\u044c \u0441\u043f\u0438\u0441\u043e\u043a"},"more")),pe(n),y(null)})).catch((function(e){Ye(e),y(null)}))},Be=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S("https://vk.com/id"+t),I(Object(x.jsx)(p.w,{onClose:function(){return I(null)},before:Object(x.jsx)(p.d,{size:24,style:{background:"var(--accent)"},children:Object(x.jsx)(f.a,{fill:"#fff",width:14,height:14})}),children:'\u0421\u0441\u044b\u043b\u043a\u0430 \u0432\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 "\u0423\u0437\u043d\u0430\u0442\u044c"'}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(e){y(Object(x.jsx)(p.t,{size:"large"})),o.a.send("VKWebAppCallAPIMethod",{method:"users.get",params:{user_ids:_.join(","),fields:"photo_100,verified,followers_count",v:ye,access_token:e}}).then((function(e){for(var t=[],n=function(n){var r=e.response[n],a=r.followers_count;a>=1e6&&(a=Math.round(a/1e6)+"M"),a>=1e4&&(a=Math.round(a/1e3)+"K"),void 0!=a&&0!=a||(a="\u041d\u0435\u0442"),t.push(Object(x.jsxs)(p.v,{before:Object(x.jsx)(p.d,{size:48,src:r.photo_100}),badge:r.verified?Object(x.jsx)(h.a,{}):null,onClick:function(){return Be(r.id)},description:a+" \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432",children:[r.first_name," ",r.last_name]},"p"+r.id))},r=0;r<e.response.length;r++)n(r);pe(t),y(null)})).catch((function(e){Ye(e),y(null)}))},Le=function(e){y(Object(x.jsx)(p.b,{actions:[{title:"\u041e\u041a",autoclose:!0,mode:"cancel"}],onClose:Ue,actionsLayout:"vertical",header:"\u041e\u0448\u0438\u0431\u043a\u0430",text:e}))},Ue=function(){y(null)},Ye=function(e){switch(De(),console.log(e),e.error_type){case"api_error":Le("API error: "+e.error_data.error_code+" - "+e.error_data.error_msg);break;case"client_error":switch(e.error_data.error_reason.error_code){case 6:Le("\u041e\u0448\u0438\u0431\u043a\u0430 6: \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0443. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430");break;case 29:Le("\u041e\u0448\u0438\u0431\u043a\u0430 29: \u0434\u043e\u0441\u0442\u0438\u0433\u043d\u0443\u0442 \u043b\u0438\u043c\u0438\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. \u041f\u043e\u0445\u043e\u0436\u0435, \u0432\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438\u0441\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043e\u043c \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0430\u043a\u0442\u0438\u0432\u043d\u043e. \u042d\u0442\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0441\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u044b \u0412\u041a. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0447\u0430\u0441\u043e\u0432 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430.");break;default:Le("Client error: "+e.error_data.error_reason.error_code+" - "+e.error_data.error_reason.error_msg)}break;default:Le(e.error_type)}},Fe=function(){var e=Object(l.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ce=!1,console.log("step1 "+Ce),Q("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u043f\u0440\u044f\u043c\u0443\u044e \u0434\u0440\u0443\u0436\u0431\u0443:"),E(1),N(0),we.push(G),o.a.send("VKWebAppCallAPIMethod",{method:"friends.areFriends",params:{user_ids:t,v:ye,access_token:i}}).then(function(){var e=Object(l.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!=n.response[0].friend_status){e.next=8;break}return e.next=3,Je(2e3);case 3:we.push(t),N(1),Ee(),e.next=9;break;case 8:Ce||Ne(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ye(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){Ce||(console.log("step2"),Q("\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043e\u0431\u0449\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439:"),E(1),N(0),o.a.send("VKWebAppCallAPIMethod",{method:"friends.getMutual",params:{source_uid:G,target_uid:e,v:ye,access_token:i}}).then((function(t){t.response.length>0?(N(1),we.push(t.response[0]),we.push(e),Ee()):Ce||Re(e)})).catch((function(e){Ye(e)})))},Re=function(e){Ce||(console.log("step3"),Q("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u043f\u0438\u0441\u043a\u0438 \u0434\u0440\u0443\u0437\u0435\u0439:"),E(1),N(0),o.a.send("VKWebAppCallAPIMethod",{method:"execute.getLessFriends",params:{uid1:e,uid2:G,v:ye,access_token:i}}).then(function(){var t=Object(l.a)(u.a.mark((function t(n){var r,a,s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N(1),r=n.response.another,Ke=n.response,a=n.response.items.length,Q("\u0424\u0438\u043b\u044c\u0442\u0440\u0443\u0435\u043c \u0441\u043f\u0438\u0441\u043e\u043a:"),E(a),N(0),s=0,c=n.response.another;case 9:if(!(s<n.response.items.length)){t.next=16;break}return t.next=12,Je(2e3);case 12:o.a.send("VKWebAppCallAPIMethod",{method:"users.get",params:{user_ids:n.response.items.slice(s,s+1e3).join(","),v:ye,access_token:i}}).then((function(t){N(s>a?a:s),Me=He(t.response),c==e?(Ve=G,We=e):(Ve=e,We=G);var n=0,d=!1,p=Me.length;for(Q("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043e\u0431\u0449\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439:"),E(p),N(0);n<p&&!d&&!Ce;)o.a.send("VKWebAppCallAPIMethod",{method:"friends.getMutual",params:{source_uid:r,target_uids:Me.slice(n,n+100).join(","),v:ye,access_token:i}}).then(function(){var t=Object(l.a)(u.a.mark((function t(a){var s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N(n>p?p:n),s=u.a.mark((function t(n){var s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d&&!Ce){t.next=2;break}return t.abrupt("return","break");case 2:if(!((s=a.response[n]).common_count>0)){t.next=6;break}return t.next=6,o.a.send("VKWebAppCallAPIMethod",{method:"execute.isBanned",params:{uid:s.common_friends[0],v:ye,access_token:i}}).then((function(t){0==t.response&&(N(p),r==e?(we.push(s.id),we.push(s.common_friends[0])):(we.push(s.common_friends[0]),we.push(s.id)),we.push(e),d=!0,Ee())})).catch((function(e){Ye(e)}));case 6:case"end":return t.stop()}}),t)})),c=0;case 3:if(!(c<a.response.length)){t.next=11;break}return t.delegateYield(s(c),"t0",5);case 5:if("break"!==t.t0){t.next=8;break}return t.abrupt("break",11);case 8:c++,t.next=3;break;case 11:!d&&n+100>=p&&!Ce&&Te(e);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){Ye(e)})),n+=100})).catch((function(e){Ye(e)})),s+=1e3,t.next=9;break;case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){Ye(e)})))},Te=function(e){Ce||(console.log("step4"),Q("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u043f\u0438\u0441\u043a\u0438 \u0434\u0440\u0443\u0437\u0435\u0439:"),E(1),N(0),o.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{user_id:Ke.another,v:ye,access_token:i}}).then(function(){var t=Object(l.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N(1),r=n.response.items.length,Q("\u0424\u0438\u043b\u044c\u0442\u0440\u0443\u0435\u043c \u0441\u043f\u0438\u0441\u043e\u043a:"),E(r),N(0),a=0;case 6:if(!(a<n.response.items.length)){t.next=14;break}return t.next=9,Je(2e3);case 9:return t.next=11,o.a.send("VKWebAppCallAPIMethod",{method:"users.get",params:{user_ids:n.response.items.slice(a,a+1e3).join(","),v:ye,access_token:i}}).then(function(){var t=Object(l.a)(u.a.mark((function t(n){var s,c,d,p,h,b;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N(a>r?r:a),Ie=He(n.response),s=Me,c=Ie,d=We,Me.length<=Ie.length&&(s=Ie,c=Me,d=Ve),p=!1,Q("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043e\u0431\u0449\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439:"),E(s.length),N(0),h=u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p&&!Ce){t.next=2;break}return t.abrupt("return","break");case 2:r=0;case 3:if(!(r<s.length)){t.next=12;break}if(!p&&!Ce){t.next=6;break}return t.abrupt("break",12);case 6:return t.next=8,Je(2e3);case 8:o.a.send("VKWebAppCallAPIMethod",{method:"friends.getMutual",params:{source_uid:c[n],target_uids:s.slice(r,r+100).join(","),v:ye,access_token:i}}).then(function(){var t=Object(l.a)(u.a.mark((function t(a){var l,h;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r>s.length?N(s.length):N(r),l=u.a.mark((function t(r){var l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p&&!Ce){t.next=2;break}return t.abrupt("return","break");case 2:if(!((l=a.response[r]).common_count>0)){t.next=6;break}return t.next=6,o.a.send("VKWebAppCallAPIMethod",{method:"execute.isBanned",params:{uid:l.common_friends[0],v:ye,access_token:i}}).then((function(t){0==t.response&&(N(s.length),d==G?(we.push(c[n]),we.push(l.common_friends[0]),we.push(l.id)):(we.push(l.id),we.push(l.common_friends[0]),we.push(c[n])),we.push(e),p=!0,Ee())})).catch((function(e){Ye(e)}));case 6:case"end":return t.stop()}}),t)})),h=0;case 3:if(!(h<a.response.length)){t.next=11;break}return t.delegateYield(l(h),"t0",5);case 5:if("break"!==t.t0){t.next=8;break}return t.abrupt("break",11);case 8:h++,t.next=3;break;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){Ye(e)})),r+=100,t.next=3;break;case 12:case"end":return t.stop()}}),t)})),b=0;case 12:if(!(b<c.length)){t.next=20;break}return t.delegateYield(h(b),"t0",14);case 14:if("break"!==t.t0){t.next=17;break}return t.abrupt("break",20);case 17:b++,t.next=12;break;case 20:p||Ce||qe(e);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){Ye(e)}));case 11:a+=1e3,t.next=6;break;case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){Ye(e)})))},qe=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,s,c,d,p,h,b,f;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce){e.next=2;break}return e.abrupt("return");case 2:console.log("step5"),n=Me,r=Ie,a=Ve,We,Ie.length<Me&&(n=Ie,r=Me,a=We,Ve),Q("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u043f\u0438\u0441\u043a\u0438 \u0434\u0440\u0443\u0437\u0435\u0439:"),E(n.length),N(0),s=0,c=[];case 13:if(!(s<n.length)){e.next=23;break}if(!Ce){e.next=16;break}return e.abrupt("break",23);case 16:return e.next=18,Je(2e3);case 18:return e.next=20,o.a.send("VKWebAppCallAPIMethod",{method:"execute.getMassFriends",params:{uids:n.slice(s,s+25).join(","),v:ye,access_token:i}}).then((function(e){s>n.length?N(n.length):N(s),c=c.concat(e.response)})).catch((function(e){Ye(e)}));case 20:s+=25,e.next=13;break;case 23:Q("\u0424\u0438\u043b\u044c\u0442\u0440\u0443\u0435\u043c \u0434\u0440\u0443\u0437\u0435\u0439:"),E(c.length),N(0),d=u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce){e.next=2;break}return e.abrupt("return","break");case 2:n=0;case 3:if(!(n<c[t].list.length)){e.next=13;break}if(!Ce){e.next=6;break}return e.abrupt("break",13);case 6:return e.next=8,Je(2e3);case 8:return e.next=10,o.a.send("VKWebAppCallAPIMethod",{method:"users.get",params:{user_ids:c[t].list.slice(n,n+1e3).join(","),v:ye,access_token:i}}).then((function(e){N(t),c[t].list=He(e.response)})).catch((function(e){Ye(e)}));case 10:n+=1e3,e.next=3;break;case 13:case"end":return e.stop()}}),e)})),p=0;case 28:if(!(p<c.length)){e.next=36;break}return e.delegateYield(d(p),"t0",30);case 30:if("break"!==e.t0){e.next=33;break}return e.abrupt("break",36);case 33:p++,e.next=28;break;case 36:h=!1,s=0;case 38:if(!(s<r.length)){e.next=57;break}if(!h&&!Ce){e.next=41;break}return e.abrupt("break",57);case 41:Q("\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043e\u0431\u0449\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439:"),E(c.length),N(0),b=u.a.mark((function e(n){var d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h&&!Ce){e.next=2;break}return e.abrupt("return","break");case 2:d=0;case 3:if(!(d<c[n].list.length)){e.next=13;break}if(!h&&!Ce){e.next=6;break}return e.abrupt("break",13);case 6:return e.next=8,Je(2e3);case 8:return e.next=10,o.a.send("VKWebAppCallAPIMethod",{method:"friends.getMutual",params:{source_uid:r[s],target_uids:c[n].list.slice(d,d+100).join(","),v:ye,access_token:i}}).then(function(){var e=Object(l.a)(u.a.mark((function e(l){var d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(n),d=u.a.mark((function e(d){var p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h&&!Ce){e.next=2;break}return e.abrupt("return","break");case 2:if(!((p=l.response[d]).common_count>0)){e.next=6;break}return e.next=6,o.a.send("VKWebAppCallAPIMethod",{method:"execute.isBanned",params:{uid:p.common_friends[0],v:ye,access_token:i}}).then((function(e){0==e.response&&(N(c.length),a==t?(we.push(r[s]),we.push(p.common_friends[0]),we.push(p.id)):(we.push(p.id),we.push(p.common_friends[0]),we.push(r[s])),we.push(c[n].owner),we.push(t),Ee(),h=!0)})).catch((function(e){Ye(e)}));case 6:case"end":return e.stop()}}),e)})),p=0;case 3:if(!(p<l.response.length)){e.next=11;break}return e.delegateYield(d(p),"t0",5);case 5:if("break"!==e.t0){e.next=8;break}return e.abrupt("break",11);case 8:p++,e.next=3;break;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ye(e)}));case 10:d+=100,e.next=3;break;case 13:case"end":return e.stop()}}),e)})),f=0;case 46:if(!(f<c.length)){e.next=54;break}return e.delegateYield(b(f),"t1",48);case 48:if("break"!==e.t1){e.next=51;break}return e.abrupt("break",54);case 51:f++,e.next=46;break;case 54:s++,e.next=38;break;case 57:h||Ce||Ee();case 58:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){if(je(we),y(Object(x.jsx)(p.t,{size:"large"})),ie(we.length),1==we.length)return Le("\u0421\u0432\u044f\u0437\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"),void a("home");o.a.send("VKWebAppCallAPIMethod",{method:"users.get",params:{user_ids:we.join(","),fields:"photo_100",v:ye,access_token:i}}).then((function(e){for(var t=[],n=0;n<e.response.length;n++){var r=e.response[n];t.push(Object(x.jsx)(p.m,{href:"https://vk.com/id"+r.id,target:"_blank",children:Object(x.jsxs)(p.v,{before:Object(x.jsx)(p.d,{src:r.photo_100}),children:[r.first_name,"  ",r.last_name]},r.id)},"l"+r.id))}y(null),ee(t),o.a.send("VKWebAppShowNativeAds",{ad_format:"interstitial"}),a("result")})).catch((function(e){Ye(e)}))},Je=function(e){return new Promise((function(t){return setTimeout(t,e)}))},De=function(){Ce=!0,a("home")},He=function(e){for(var t=[],n=0;n<e.length;n++)e[n].is_closed&&!e[n].can_access_closed||"banned"==e[n].deactivated||"deleted"==e[n].deactivated||t.push(e[n].id);return t};return Object(x.jsx)(p.a,{children:Object(x.jsx)(p.c,{children:Object(x.jsxs)(p.A,{activePanel:n,popout:w,children:[Object(x.jsx)(k,{id:"home",go:function(e){if(null==G&&o.a.send("VKWebAppGetUserInfo"),null!=i){y(Object(x.jsx)(p.t,{size:"large"}));var t=P.split("/"),n=t[t.length-1];o.a.send("VKWebAppCallAPIMethod",{method:"friends.get",params:{count:1,v:ye,access_token:i}}).then((function(e){e.response.count>0?o.a.send("VKWebAppCallAPIMethod",{method:"utils.resolveScreenName",params:{screen_name:n,v:ye,access_token:i}}).then(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("user"!=t.response.type){e.next=8;break}return a("loading"),e.next=4,o.a.send("VKWebAppCallAPIMethod",{method:"execute.canBeAnalyzed",params:{uid:t.response.object_id,v:ye,access_token:i}});case 4:1==(n=e.sent).response.code?(Fe(t.response.object_id),ae(n.response.res),y(null)):Le(n.response.res),e.next=9;break;case 8:Le("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ye(e)})):Le("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0434\u0440\u0443\u0437\u0435\u0439 \u0412\u041a")})).catch((function(e){Ye(e)}))}else Pe()},userLink:P,onInput:function(e){S(e.target.value)},infoClick:function(){return a("info")},people:de,snackbar:M}),Object(x.jsx)(m,{id:"loading",relProgress:F,total:q,text:H}),Object(x.jsx)(O,{id:"result",users:$,name:re,n:oe,back:function(){return a("home")},share:function(){o.a.send("VKWebAppShowStoryBox",{background_type:"image",url:"https://app.vovadev.ru/6hands/story.php?main="+encodeURI(re)+"&sex="+me+"&uids="+encodeURI(fe.join(",")),attachment:{text:"open",type:"url",url:"https://vk.com/app7900221"}})},bannerProps:_e}),Object(x.jsx)(g,{id:"info",back:function(){return a("home")}})]})})})};o.a.send("VKWebAppInit"),s.a.render(Object(x.jsx)(A,{}),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.9d7e0f66.chunk.js.map